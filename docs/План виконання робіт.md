# План виконання робіт для соціальної мережі Wisp

- [План виконання робіт для соціальної мережі Wisp](#план-виконання-робіт-для-соціальної-мережі-wisp)
  - [1. Аутентифікація та авторизація](#1-аутентифікація-та-авторизація)
    - [Frontend](#frontend)
    - [Backend](#backend)
  - [2. Головна сторінка (Feed)](#2-головна-сторінка-feed)
    - [Frontend](#frontend-1)
    - [Backend](#backend-1)
  - [3. Пошук](#3-пошук)
    - [Frontend](#frontend-2)
    - [Backend](#backend-2)
  - [4. Профіль користувача](#4-профіль-користувача)
    - [Frontend](#frontend-3)
    - [Backend](#backend-3)
  - [5. Пости](#5-пости)
    - [Frontend](#frontend-4)
    - [Backend](#backend-4)
  - [6. Продуктивність](#6-продуктивність)
    - [Frontend](#frontend-5)
    - [Backend](#backend-5)
  - [7. Безпека](#7-безпека)
    - [Frontend](#frontend-6)
    - [Backend](#backend-6)
  - [8. Масштабованість](#8-масштабованість)
    - [Frontend](#frontend-7)
    - [Backend](#backend-7)
  - [9. Додатковий функціонал](#9-додатковий-функціонал)

## 1. Аутентифікація та авторизація

### Frontend

- [x] **Реалізувати форму реєстрації користувача**
  - [x] Створити компонент для форми (HTML + стилі).
  - [x] Налаштувати валідацію полів (email, пароль).
  - [x] Підключити обробку даних до бекенду (axios).
  - [x] Показати повідомлення про успішну реєстрацію або помилки.
- [x] **Реалізувати форму входу у систему**
  - [x] Створити компонент форми входу (HTML + стилі).
  - [x] Реалізувати валідацію полів (email, пароль).
  - [x] Обробити запит до API для входу.
  - [x] Зберігати JWT токен в локальному сховищі (localStorage).
- [x] **Реалізувати форму зміни пароля**
  - [x] Створити компонент зміни пароля.
  - [x] Налаштувати перевірку на збіг нового пароля та підтвердження пароля.
  - [x] Обробити запит до API для зміни пароля.
- [x] **Реалізувати форму відновлення пароля через email**
  - [x] Створити компонент введення email для відновлення пароля.
  - [x] Обробити запит до бекенду для надсилання інструкцій на email.
- [ ] **Інтерфейс для аутентифікації через Google**
  - [ ] Додати кнопку "Вхід через Google".
  - [ ] Використати Google OAuth API для обробки авторизації.
  - [ ] Отримати і зберегти токен від Google після успішної авторизації.

### Backend

- [x] **POST /register (реєстрація)**
  - [x] Створити маршрут для реєстрації нового користувача.
  - [x] Валідація email і пароль на сервері.
  - [x] Хешувати пароль перед збереженням у базу даних (bcrypt).
  - [x] Повернути JWT токен після успішної реєстрації.
- [x] **POST /login (вхід)**
  - [x] Реалізувати маршрут для перевірки email і пароля.
  - [x] Порівняти введений пароль з хешем (bcrypt).
  - [x] Повернути JWT токен після успішного входу.
- [x] **POST /password/change (зміна пароля)**
  - [x] Реалізувати валідацію старого і нового пароля.
  - [x] Хешувати новий пароль і оновити запис у базі даних.
- [x] **POST /password/recover (відновлення пароля)**
  - [x] Згенерувати токен для відновлення пароля.
  - [x] Надіслати email з посиланням для відновлення пароля.
  - [x] Додати маршрут для обробки зміни пароля за токеном.
- [ ] **Аутентифікація через Google**
  - [ ] Інтегрувати Google OAuth на бекенді.
  - [ ] Налаштувати обмін OAuth токеном на JWT для подальшої аутентифікації.

## 2. Головна сторінка (Feed)

### Frontend

- [x] **Створити компонент для відображення стрічки постів**
  - [x] Дизайн компонента з постами (картка поста, автор, дата, контент).
  - [x] Підключити API для отримання постів.
  - [x] Налаштувати пагінацію або інфініті скролінг.
- [x] **Реалізувати форму для створення нового посту**
  - [x] Створити компонент форми поста з обмеженням на кількість символів.
  - [x] Додати можливість форматування тексту (курсив, жирний, нижнє підкреслення).
  - [x] Додати можливість додавання емоджі.
  - [x] Додати можливість додавання медіа файлів.
  - [x] Обробити запит на створення посту через API.
- [ ] **Реалізувати взаємодію з постами**
  - [x] Додати кнопки лайку, дизлайку, коментарів.
  - [ ] Реалізувати оновлення кількості лайків та дизлайків без перезавантаження сторінки (вебсокети або інтервальне оновлення).
  - [x] Додати поле для коментарів і відображення списку коментарів.

### Backend

- [x] **GET /posts (отримати стрічку постів)**
  - [x] Реалізувати логіку для отримання постів із бази даних.
  - [x] Додати підтримку інфініті скролінг.
- [x] **POST /posts (створення посту)**
  - [x] Додати валідацію полів (текст, кількість символів).
  - [x] Зберегти новий пост у базу даних і повернути його клієнту.
- [ ] **PUT /posts/:id (редагування посту)**
  - [ ] Реалізувати оновлення існуючого посту.
  - [ ] Перевірити, чи пост належить поточному користувачу перед оновленням.
- [ ] **DELETE /posts/:id (видалення посту)**
  - [ ] Видалити пост із бази даних.
  - [ ] Реалізувати перевірку прав на видалення (чи пост належить користувачу).
- [] **POST /posts/:id/like (лайк посту)**
  - [x] Реалізувати додавання лайку до посту.
  - [ ] Оновити кількість лайків в реальному часі через вебсокети або push-повідомлення.
- [ ] **POST /posts/:id/dislike (дизлайк посту)**
  - [x] Додати дизлайк до посту та оновити кількість в базі даних.
- [ ] **POST /posts/:id/comment (додати коментар)**
  - [x] Реалізувати збереження коментаря до посту.
  - [ ] Повернути оновлений список коментарів після додавання.

## 3. Пошук

### Frontend

- [x] **Реалізувати форму пошуку користувачів**
  - [x] Створити компонент пошуку з текстовим полем.
  - [x] Підключити до API для пошуку користувачів у реальному часі.
  - [x] Відображати результати у вигляді списку профілів.

### Backend

- [x] **GET /search (пошук користувачів)**
  - [x] Додати маршрут для пошуку користувачів у базі даних за ім'ям або прізвищем.
  - [x] Додати оптимізацію пошуку (індексація полів у базі даних).

## 4. Профіль користувача

### Frontend

- [x] **Реалізувати компонент профілю користувача**
  - [x] Створити шаблон для профілю (аватар, ім’я, біографія).
  - [x] Відобразити список постів користувача.
  - [x] Підключити можливість редагування профілю.
- [x] **Реалізувати форму редагування профілю**
  - [x] Створити компонент для редагування аватара та біографії.
  - [x] Обробити API-запит для збереження оновлень профілю.
- [ ] **Реалізувати підписку/відписку на користувача**
  - [ ] Додати кнопку "Підписатися/Відписатися".
  - [ ] Обробити запити на підписку через API.

### Backend

- [x] **GET /profile/:username (перегляд профілю)**
  - [x] Отримати дані користувача (ім'я, аватар, біографія) з бази.
  - [x] Вивести список постів користувача.
- [x] **PUT /profile/:username/edit (Редагування профілю користувача)**
  - [x] Додати логіку для зміни інформації про користувача і оновити відповідні поля у базі.
- [x] **POST /profile/:username/follow (підписка на користувача)**
  - [x] Реалізувати функцію підписки на користувача.
  - [ ] Оновити список підписок і повернути оновлені дані.
- [x] **POST /profile/:username/unfollow (відписка від користувача)**
  - [x] Додати логіку для відписки і оновити відповідні поля у базі.

## 5. Пости

### Frontend

- [x] **Реалізувати можливість створення нового посту**
  - [x] Створити компонент з валідацією кількості символів.
  - [x] Додати можливість форматування тексту (курсив, жирний).
- [x] **Реалізувати взаємодію з постами**
  - [x] Лайки, дизлайки, коментарі з моментальним оновленням без перезавантаження сторінки.
- [ ] **Можливість видалення та редагування постів**
  - [ ] Додати кнопки для видалення та редагування з обробкою через API.

### Backend

- [x] **POST /posts (створення посту)**
  - [x] Зберегти новий пост у базу з перевіркою полів.
  - [ ] Повернути новий пост клієнту.
- [ ] **PUT /posts/:id (редагування посту)**
  - [ ] Оновити пост і перевірити права користувача.
- [ ] **DELETE /posts/:id (видалення посту)**
  - [ ] Видалити пост і перевірити права користувача.

## 6. Продуктивність

### Frontend

- [ ] **Оптимізація швидкості завантаження сторінок**
  - [ ] Lazy loading для зображень.
  - [ ] Оптимізація запитів до API (дебаунс запитів).

### Backend

- [ ] **Оптимізація запитів до бази даних**
  - [ ] Індексація частовикористовуваних полів.
  - [ ] Кешування популярних запитів для зменшення навантаження.

## 7. Безпека

### Frontend

- [ ] **Захист від XSS і CSRF атак**
  - [ ] Санітизація введення користувачів на рівні UI.
  - [ ] Використання токенів для захисту форм.

### Backend

- [ ] **Захист API**
  - [ ] Санітизація всіх вхідних даних.
  - [ ] Захист форм від CSRF за допомогою токенів.
  - [x] Хешування паролів з сіллю перед збереженням у базі.

## 8. Масштабованість

### Frontend

- [ ] **Перевірка інтерфейсу при високих навантаженнях**
  - [ ] Тестування на великій кількості запитів до API.

### Backend

- [ ] **Масштабування системи**
  - [ ] Налаштувати балансування навантаження між серверами.
  - [ ] Використовувати горизонтальне масштабування для бази даних.

## 9. Додатковий функціонал

- [x] Надсилання помилок, які знайшли користувачі
- [x] Зміна кольорової теми
- [x] Вихід з системи
- [x] Навігація по вкладкам
- [ ] Налаштування
- [x] Зберігання пошукових запитів
- [ ] Універсальний компонент для того щоб проглядати список користувачів на яких підписаний користувач, підписників користувача
- [ ] Репорти про порушення від користувачів (кожен пост має мати пункт в базі даних про репорти, якщо пост отримує багато позначок на репорт із однаковими причинами, то пост видаляється, а якщо там просто виникає багато репортів і мало збігів з причин репорту, то це вважається спробою спаму і всі репорти видаляються. Один користувач може кинути тільки один репорт)
- [ ] Додати сторінку Сповіщень куди будуть приходити сповіщення про те що хтось підписався на вас, чи поставив лайк вашому посту, чи прокоментував пост.
- [ ] Додати вкладки до Feed в яких будуть зберігатись: Всі пости в хронологічній послідовності, Пости користувачів на яких ви підписані, Пости підтримані спільнотою

  > Про вкладку підтримка спільноти:</br>У цій вкладці відображаються пости, які отримали найбільшу підтримку спільноти на основі взаємодій (лайки, коментарі, репости). Пости сортуються за їхньою вагою, яка розраховується з урахуванням кількості реакцій, актуальності та скарг. Формула для обчислення ваги поста виглядає так:</br>`Вага поста = (лайки * 1 + коментарі * 2 + дизлайки * -1) * e^(-λ * (час від публікації в годинах)) - (кількість репортів * штрафний коефіцієнт)`<br/> Частина постів вибирається рандомно серед менш популярних користувачів для забезпечення справедливості та видимості новачків.
